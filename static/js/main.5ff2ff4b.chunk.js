(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{113:function(e,t,a){e.exports=a(165)},118:function(e,t,a){},119:function(e,t,a){},123:function(e,t,a){},147:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(118),a(47)),i=(a(119),a(31).Navbar),s=function(){return r.a.createElement(i,{bg:"secondary"},r.a.createElement(i.Brand,{href:"/II-frontend/"},r.a.createElement("i",{className:"d-inline-block align-top fas fa-battery-full fa-lg",alt:"React Bootstrap logo"})))},m=(a(123),a(112));var u=function(e){var t=e.setFiles,a=Object(n.useCallback)((function(e){console.log(e),t(e)}),[t]),c=Object(m.a)({onDrop:a,accept:"video/*",minSize:0,maxSize:15728640}),l=c.getRootProps,o=c.getInputProps,i=c.isDragActive;return r.a.createElement("section",{className:"container"},r.a.createElement("div",l({className:"videodropzone back"}),r.a.createElement("input",o()),r.a.createElement("i",{className:"fas fa-file-video",style:{fontSize:100}}),i?r.a.createElement("p",null,"Drop the files here ..."):r.a.createElement("p",null,"Upload a video file here",r.a.createElement("br",null)," Max 15 Mb")))},f=function(e){e.files;var t=e.setFiles;return r.a.createElement("div",{className:"col-4"},r.a.createElement(u,{setFiles:t}))},d=a(70),p=a(34),E=a(110);a(146);var v=function(e){var t=e.files,a=e.setFiles;return Object(n.useEffect)((function(){return console.log(t),function(){}}),[t]),r.a.createElement(d.a,{className:"col-2 mt-3",style:{height:"100%"}},r.a.createElement(d.a.Body,null,r.a.createElement(E.Player,{src:"/II-frontend/mug-test.mp4"}),r.a.createElement(p.a,{className:"mt-2",variant:"dark",onClick:function(){return fetch("https://alwaysblind.github.io/II-frontend/mug-test.mp4",{headers:{"Content-Type":"video/mp4"}}).then((function(e){return e.blob()})).then((function(e){console.log(e),a([new File([e],"ClassicFile")])}))}},"Or test this video")))},g=a(71),h=a(69),b=a(52),y=a(45);var N=function(e){var t=e.img;return r.a.createElement(d.a,null,r.a.createElement(y.a,{className:"card",src:t.imagefile,style:{maxHeight:"10rem"}}))},j=(a(147),function(e){var t=e.images.map((function(e){return r.a.createElement(g.a.Item,{key:e.id},r.a.createElement(N,{className:"card",img:e}))}));return r.a.createElement(g.a,{horizontal:!0,className:"justify-content-md-center listgroup"},t)}),k=function(e){var t=e.images,a=e.name;return r.a.createElement(h.a,{className:"Accordion"},r.a.createElement(d.a,null,r.a.createElement(d.a.Body,null,r.a.createElement(h.a.Toggle,{as:p.a,variant:"outline-secondary",eventKey:"0"},a))),r.a.createElement(b.a,{eventKey:"0"},r.a.createElement(j,{images:t})))};var w=function(e){var t=e.images,a=function(e,t){return e.reduce((function(e,a){var n=a[t];return e[n]||(e[n]=[]),e[n].push(a),e}),{})};return r.a.createElement("div",null,function(e){var t=a(e,"classification_label"),n=Object.keys(t).map((function(e){return r.a.createElement(k,{images:t[e],name:e,key:e})}));return r.a.createElement(g.a,null," ",n," ")}(t))},I=function(e){var t=e.files;return r.a.createElement(g.a,null,t.map((function(e){return r.a.createElement(g.a.Item,{key:e.name}," file: ",e.name)})))},O=a(72),x=a(67),F=a.n(x),S=function(e){var t=e.files,a=e.setImages,c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1],m="https://neverblind.pythonanywhere.com/",u=function(e){return F.a.get("".concat(m,"indexedvideos/").concat(e.data.id,"/images"),{headers:{accept:"application/json"}})};return r.a.createElement("div",null,t.length>0&&!i&&r.a.createElement(p.a,{variant:"secondary",size:"lg",className:"mt-3",onClick:function(){return function(e){var t=new FormData;s(!0),t.append("videofile",e[0],e[0].name),t.append("title",e[0].name),F.a.post("".concat(m,"indexedvideos/"),t,{header:{accept:"application/json","content-type":"multipart/form-data"}}).then((function(e){u(e).then((function(e){console.log(e.data),a(e.data)}))})).catch((function(e){return console.log(e)})).then((function(){s(!1)}))}(t)}}," Index Video "),i&&r.a.createElement(O.a,{animation:"border",role:"status",className:"mt-10"},r.a.createElement("span",{className:"sr-only"}," Loading... ")))};var z=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(o.a)(l,2),m=i[0],u=i[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement("div",{className:"d-flex flex-row justify-content-center mt-5 pt-5"},r.a.createElement(f,{setFiles:c,files:a}),r.a.createElement(v,{className:"pt-5",setFiles:c,files:a})),r.a.createElement("div",null,r.a.createElement(I,{files:a}),r.a.createElement(S,{files:a,setImages:u}),r.a.createElement(w,{images:m})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.5ff2ff4b.chunk.js.map